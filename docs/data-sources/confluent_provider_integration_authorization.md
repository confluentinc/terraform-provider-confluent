---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "confluent_provider_integration_authorization Data Source - terraform-provider-confluent"
subcategory: ""
description: |-
  
---

# confluent_provider_integration_authorization Data Source

[![General Availability](https://img.shields.io/badge/Lifecycle%20Stage-General%20Availability-%2345c6e8)](https://docs.confluent.io/cloud/current/api.html#section/Versioning/API-Lifecycle-Policy)

`confluent_provider_integration_authorization` describes the authorization configuration for a Cloud Service Provider (CSP) integration, including cloud-specific setup information like Azure multi-tenant app IDs or GCP service accounts.

## Example Usage

### Azure Provider Integration Authorization

You can use the authorization data source with either approach:

#### Option 1: With Azure Terraform Provider

```terraform
# Configure required providers
terraform {
  required_providers {
    confluent = {
      source = "confluentinc/confluent"
    }
    azuread = {
      source = "hashicorp/azuread"
    }
  }
}

# Get the authorization data
data "confluent_provider_integration_authorization" "azure" {
  id = "cspi-abc123"
  environment {
    id = "env-xyz456"
  }
}

# Create the service principal using Azure Terraform Provider
resource "azuread_service_principal" "confluent" {
  client_id = data.confluent_provider_integration_authorization.azure.azure[0].confluent_multi_tenant_app_id
}

# Output the setup information
output "azure_app_id" {
  description = "Multi-tenant App ID for Azure setup"
  value       = data.confluent_provider_integration_authorization.azure.azure[0].confluent_multi_tenant_app_id
}
output "service_principal_object_id" {
  description = "Azure service principal object ID"
  value       = azuread_service_principal.confluent.object_id
}
```

#### Option 2: With CLI Commands

```terraform
# Get the authorization data
data "confluent_provider_integration_authorization" "azure" {
  id = "cspi-abc123"
  environment {
    id = "env-xyz456"
  }
}

# Output CLI commands for manual setup
output "azure_setup_command" {
  description = "Azure CLI command to create the service principal"
  value       = "az ad sp create --id ${data.confluent_provider_integration_authorization.azure.azure[0].confluent_multi_tenant_app_id}"
}
```

### GCP Provider Integration Authorization

You can use the authorization data source with either approach:

#### Option 1: With Google Terraform Provider

```terraform
# Configure required providers
terraform {
  required_providers {
    confluent = {
      source = "confluentinc/confluent"
    }
    google = {
      source = "hashicorp/google"
    }
  }
}

# Get the authorization data
data "confluent_provider_integration_authorization" "gcp" {
  id = "cspi-def456"
  environment {
    id = "env-xyz456"
  }
}

# Grant IAM permissions using Google Terraform Provider
resource "google_project_iam_member" "confluent_token_creator" {
  project = var.gcp_project_id
  role    = "roles/iam.serviceAccountTokenCreator"
  member  = "serviceAccount:${data.confluent_provider_integration_authorization.gcp.gcp[0].google_service_account}"
  
  condition {
    title       = "Confluent Cloud Access"
    description = "Allow Confluent Cloud to impersonate the customer service account"
    expression  = "request.auth.claims.sub == '${data.confluent_provider_integration_authorization.gcp.gcp[0].google_service_account}'"
  }
}

# Output the setup information
output "confluent_service_account" {
  description = "Confluent service account for GCP IAM setup"
  value       = data.confluent_provider_integration_authorization.gcp.gcp[0].google_service_account
}
output "customer_service_account" {
  description = "Customer's service account"
  value       = data.confluent_provider_integration_authorization.gcp.gcp[0].customer_google_service_account
}
```

#### Option 2: With gcloud CLI Commands

```terraform
# Get the authorization data
data "confluent_provider_integration_authorization" "gcp" {
  id = "cspi-def456"
  environment {
    id = "env-xyz456"
  }
}

# Output gcloud commands for manual setup
output "gcp_iam_command" {
  description = "gcloud command to grant IAM permissions"
  value       = "gcloud projects add-iam-policy-binding YOUR_PROJECT_ID --member=\"serviceAccount:${data.confluent_provider_integration_authorization.gcp.gcp[0].google_service_account}\" --role=\"roles/iam.serviceAccountTokenCreator\" --condition=\"expression=request.auth.claims.sub=='${data.confluent_provider_integration_authorization.gcp.gcp[0].google_service_account}'\""
}

output "confluent_service_account" {
  description = "Confluent service account for GCP IAM setup"
  value       = data.confluent_provider_integration_authorization.gcp.gcp[0].google_service_account
}
```

### Using with Integration Data Source

```terraform
data "confluent_provider_integration_setup" "main" {
  display_name = "my-integration"
  environment {
    id = "env-xyz456"
  }
}

data "confluent_provider_integration_authorization" "main" {
  id = data.confluent_provider_integration_setup.main.id
  environment {
    id = "env-xyz456"
  }
}

# Output setup information based on provider type
output "setup_info" {
  value = data.confluent_provider_integration_setup.main.cloud == "AZURE" ? {
    app_id = data.confluent_provider_integration_authorization.main.azure[0].confluent_multi_tenant_app_id
    command = "az ad sp create --id ${data.confluent_provider_integration_authorization.main.azure[0].confluent_multi_tenant_app_id}"
  } : {
    confluent_sa = data.confluent_provider_integration_authorization.main.gcp[0].google_service_account
    customer_sa = data.confluent_provider_integration_authorization.main.gcp[0].customer_google_service_account
  }
}
```

<!-- schema generated by tfplugindocs -->
## Argument Reference

The following arguments are supported:

- `id` - (Required String) The ID of the Provider Integration Authorization, for example, `cspi-4xg0q`.
- `environment` - (Required Configuration Block) supports the following:
    - `id` - (Required String) The ID of the Environment that the Provider Integration belongs to, for example, `env-abc123`.

## Attributes Reference

In addition to the preceding arguments, the following attributes are exported:

- `id` - (Required String) The ID of the Provider Integration Authorization, for example, `cspi-4xg0q`.
- `provider_integration_id` - (Required String) The ID of the provider integration.
- `azure` - (Optional Configuration Block) Azure-specific configuration details. Present for Azure integrations. It supports the following:
    - `customer_azure_tenant_id` - (Computed String) Customer's Azure Tenant ID.
    - `confluent_multi_tenant_app_id` - (Computed String) Confluent Multi-Tenant App ID used to access customer Azure resources.
- `gcp` - (Optional Configuration Block) GCP-specific configuration details. Present for GCP integrations. It supports the following:
    - `customer_google_service_account` - (Computed String) Customer's Google Service Account that Confluent Cloud impersonates.
    - `google_service_account` - (Computed String) Google Service Account that Confluent Cloud uses for impersonation.
- `environment` - (Required Configuration Block) supports the following:
    - `id` - (Required String) The ID of the Environment that the Provider Integration belongs to, for example, `env-abc123`.

## Getting Started

The following end-to-end examples might help to get started with `confluent_provider_integration_authorization` data source:
* [provider-integration-azure](https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/provider-integration-azure): Complete Azure Provider Integration setup
* [provider-integration-gcp](https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/provider-integration-gcp): Complete GCP Provider Integration setup